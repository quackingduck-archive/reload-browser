<script src="socket.io.js"></script>

<script>
// window.probes=true
function probe() { if (window.probes) console.log(arguments) }
</script>

<script>
// Socket.io will try to reconnect if socket is closed by other end
var socket = io.connect('http://localhost:35729')

// Pull reload events
socket.on('reload', function (data) {
  probe("reload event", data)

  // Reloads active tab in active window. Might make sense to reload active
  // tab in all windows: chrome.tabs.query({active: true})
  chrome.tabs.reload()
});
</script>
